<Box01>:
	canvas:
        Color:
            rgb: 0,0,0
        Rectangle:
            size: self.size
            pos: self.pos

<BoxNegro>:
	conect:conect
	up:up
	s1:s1 #suiche 1
	i1:i1 #corriente 1
	msg_switch:msg_switch
	msg:msg
	img_conect:img_conect
	img_update:img_update
	i_maxima:i_maxima
	check_ip:check_ip
	msg_error:msg_error
	p1:p1 #Potencia 1
	i1rms:i1rms #IRMS

	
	
    #padding: 3
    #spacing: 3
    orientation: "vertical"
    # COLOR BORDE DE LAS PESTAÑAS O TABS
    canvas:
        Color:
            rgb: 0,0,0
        Rectangle:
            size: self.size
            pos: self.pos
    TabbedPanel:
        id: tab_panel
        do_default_tab: False
        
        
		#PESTAÑA 1  CONTROL
		
        TabbedPanelItem:
            id: tab_1
            text: 'Control'
			
			#layout de las tab o pestañas
			###################################################################### CONTENEDOR PESTAÑA CONTROL 
			BoxBlue:
				padding: 10
				spacing: 10
				orientation: "vertical"
				
				###################################################################### CONTENEDOR CONECTAR 
				BoxRed:
					size_hint: 1,0.1
					conect:conect
					Button:
						text: 'Conectar'
						id : conect
						on_press: root.conectar()
						

					Button:
						text: 'Desconectar'
						id : noconect
						on_press: root.desconectar()

						
						
				###################################################################### CONTENEDOR DESCONECTAR 
				BoxRed:
					size_hint: 1,0.1
						
						
					Label:
					    id:msg
						text: "Sin conectar"
						size_hint: (0.1, 1)
						pos_hint:{"x":0,"y":0}
						#size_hint_x: None 
						#size_hint_y: None 
						
					
					Image:
						id:img_conect
						source: "./noconectado.png"
						#configuramos la posicion
						#pos_hint: {'left': 8} 
						size_hint: (0.1, 1)
						pos_hint:{"x":0.1,"y":0}
						#width: 
						#height: 
						
				###################################################################### CONTENEDOR ACTUALIZAR 
				BoxRed:
					size_hint: 1,0.1
					Button:
						text: 'Actualizar'
						id : up
						on_press: root.actualizar()
						
					Label:
					    id:msg_up       
						text: "             "
					
					Image:
						id:img_update
						source: "./noupdate.png"
						


					
					
						
				############################################################################### CONTENEDOR DE CARGAS
				BoxBlue:
					orientation: "vertical"
					size_hint: 1,0.9
					#Switch:
					
					############################################################################### CONTENEDOR DE CARGA
					BoxRed:                          
						padding: 5
						spacing: 5
						
						########################################################### BOTON ON/OFF
						BoxGreen:
							orientation: "vertical"
							BoxRed:
								Label:
									text: 'Carga ON/OFF:'
								Switch:
									on_active: root.server1(self, self.active)
									# switch bloqueado o deshabilitado
									id: s1
									
				###################################################################### CONTENEDOR DESCONECTAR 
							BoxRed: 
								size_hint: 1,0.1
						
						
							Label:
								id:msg_switch
								text: "      "
									
									
							########################################################### CARGA
								
							BoxRed:
								Label:
									text: 'Corriente Pico:'
									# Alineamos el texto
									size_hint: (0.6, 1)
									bold: True
									
                                TextInput:
                                    multiline:False
                                    pos: self.pos   
                                    id: i1
									text: 'Corriente Pico'
									# Alineamos el objeto de text input alto, ancho
									size_hint: (1, 0.8)
									# Alineamos la posicion en ele eje coordenado
									pos_hint:{"x":1,"y":0.1}
                                    #color del texto
                                    foreground_color: (1,1,1,1)
                                    #el fondo cambia de color cada vez que se toque
                                    background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
							BoxRed:  
							BoxRed:         
								Label:
									text: 'Corriente RMS:'
									size_hint: (0.6, 1)
									bold: True
									
                                TextInput:
                                    multiline:False
                                    pos: self.pos   
                                    id: i1rms
									# Alineamos el objeto de text input alto, ancho
									size_hint: (1, 0.8)
									# Alineamos la posicion en ele eje coordenado
									pos_hint:{"x":1,"y":0.1}
                                    text: 'Corriente RMS '
                                    #color del texto
                                    foreground_color: (1,1,1,1)
                                    #el fondo cambia de color cada vez que se toque
                                    background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
                                    
							BoxRed:  
							BoxRed:   
								Label:
									text: 'Potencia S:    '
									size_hint: (0.52, 1)
									bold: True
									
                                TextInput:
                                    multiline:False
                                    pos: self.pos   
                                    id: p1
									# Alineamos el objeto de text input alto, ancho
									size_hint: (1, 0.8)
									# Alineamos la posicion en ele eje coordenado
									pos_hint:{"x":1,"y":0.1}
                                    text: 'Potencia S'
                                    #color del texto
                                    foreground_color: (1,1,1,1)
                                    #el fondo cambia de color cada vez que se toque
                                    background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
							BoxRed: 
                                    
                                #CONTENEDOR SEPARADOR (ES PARA METER COMO UN CUADRO Y ACOMODAR LA APP)
                                #BoxGreen:
                            







#PESTAÑA  2			
		TabbedPanelItem:
			text: 'Login'
			
 		 #layout de las tab o pestañas
			###################################################################### CONTENEDOR PESTAÑA LOGIN 
			BoxBlue:
				padding: 10
				spacing: 10
				
				BoxRed:
					#size_hint: 1,0.1
					orientation: "vertical"
					
					########################################################### CONTENEDOR IP 
					BoxBlue:
						Label:
							text: 'IP y Puerto del NodeMCU'
							halign: 'right'
							valign: 'middle'
							bold: True
							
                    ########################################################### CONTENEDORES EN BLANCO COMO SEPARADOR
					BoxBlue:
						
					BoxBlue:
						Label:
							text: "IP Default: 192.168.11.9"
							#size_hint_x: .5
							#pos_hint:{'top': 0.19}
							# Alineamos el texto
							size_hint: (0.4, 1)
							
						CheckBox:
							#on_active: root.checkbox_clicked(self, self.active)
							#on_active: root.guardar_login(self, self.active)

							id:check_ip
							size_hint_x: .3
							#CheckBox inicializado en Tue o activado
							active: True
							
						    
					BoxBlue:
						Label:
							text: 'IP del servidor:'
							# Alineamos el texto
							size_hint: (0.6, 1)
							
						TextInput:
							multiline:False
							input_type:"number"
							id: input_ip
							#pos: self.pos   
							text: 'tesis.ddns.net'
							# Alineamos el objeto de text input alto, ancho
							size_hint: (1, 0.8)
							
							# Alineamos la posicion en ele eje coordenado
							pos_hint:{"x":1,"y":0.1}
							
							# Eltext input lo activa el CheckBox
							#disabled: not checkip.active
							disabled: check_ip.active
							foreground_color: (1,1,1,1)
							background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
											
					########################################################### CONTENEDOR PUERTO
					BoxBlue:
						Label:
							text: 'Puerto del servidor:'
						TextInput:
							pos: self.pos
							input_type:"number"
							multiline: False
							id: input_puerto 
							text: '8266'
							# Alineamos el objeto de text input alto, ancho
							size_hint: (1, 0.8)
							
							# Alineamos la posicion en ele eje coordenado
							pos_hint:{"x":1,"y":0.1}
							foreground_color: (1,1,1,1)
							background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
							
                    ########################################################### CONTENEDORES EN BLANCO COMO SEPARADOR
					BoxBlue:
					BoxBlue:
					
					########################################################### CONTENEDOR GUARDAR
					BoxBlue:
						BoxBlue:
						Button:
							id: guardar
							text: 'Guardar'
							on_press: root.guardar_login(input_puerto.text, input_ip.text)

							#root.funcion (id.text)  la id del textimput
							
					BoxBlue:
					BoxBlue:
					BoxBlue:
						Label:
							text: 'Guarde y espere un momento'
							id: msg_error
					
					BoxBlue:


					
					
					
					
					
					
		#PESTAÑA 3  CONGIGURACION
		
        TabbedPanelItem:
            id: tab_3
            text: 'Config'

			###################################################################### CONTENEDOR PESTAÑA config 
			BoxBlue:
				padding: 10
				spacing: 10
				
				BoxRed:
					#size_hint: 1,0.1
					orientation: "vertical"
					
					########################################################### CONTENEDOR CORRIENTE Nominal
					BoxBlue:

						Label:
							text: 'Caracteristicas de la carga'
							bold: True
							
    
					BoxBlue:
						Label:
							size_hint: 1,0.65
							text: 'Corriente Nominal (A):'
							
							
						TextInput:
							size_hint: 1,0.65
							multiline: False
							id: i_nominal
							# Alineamos el objeto de text input alto, ancho4
							size_hint: (1, 0.55)
							# Alineamos la posicion en ele eje coordenado
							pos_hint:{"x":1,"y":0.1}
							text: '4'
							foreground_color: (1,1,1,1)
							background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
							
					########################################################### CONTENEDOR CORRIENTE Maxima
					

							
    
					BoxBlue:
						Label:
							size_hint: 1,0.65
							text: 'Corriente Maxima (A):'
							
							
						TextInput:
							size_hint: 1,0.65
							multiline: False
							id: i_maxima
							# Alineamos el objeto de text input alto, ancho
							size_hint: (1, 0.55)
							# Alineamos la posicion en ele eje coordenado
							pos_hint:{"x":1,"y":0.1}
							text: '150'
							foreground_color: (1,1,1,1)
							background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)

							
					########################################################### CONTENEDOR Frecuencia
					

							
    
					BoxBlue:
						Label:
							#size_hint: 1,0.65
							text: 'Frecuencia (Hz):        '
							size_hint: (0.8, 0.65)
							
							
						TextInput:
							size_hint: 1,0.65
							multiline: False
							id: frecuencia
							# Alineamos el objeto de text input alto, ancho
							size_hint: (0.8, 0.55)
							# Alineamos la posicion en ele eje coordenado
							pos_hint:{"x":0.8,"y":0.1}
							text: '60'
							foreground_color: (1,1,1,1)
							background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
							
							
							
					########################################################### CONTENEDOR VOLTAJE
					

							
    
					BoxBlue:
						Label:
							text: 'Voltaje (VAC):            '
							size_hint: (0.95, 0.65)
							
							
						TextInput:
							size_hint: 1,0.65
							multiline: False
							id: vac
							# Alineamos el objeto de text input alto, ancho
							size_hint: (0.9, 0.55)
							# Alineamos la posicion en ele eje coordenado
							pos_hint:{"x":1,"y":0.1}
							text: '120'
							foreground_color: (1,1,1,1)
							background_color: (0,0.8,1,0.6) if self.focus else (0,0,0,1)
							
							
					########################################################### CONTENEDOR 
					BoxBlue:
						Label:
							size_hint: 1,0.65
							text: 'Solo para Cargas Monofasicas'

							
                    ########################################################### CONTENEDORES EN BLANCO COMO SEPARADOR
					BoxBlue:
						orientation: "horizontal"
						#center: root.center
						BoxBlue:
						Button:
							#center: root.center
							size_hint: 0.5,0.5
							id: guardar
							text: 'Guardar'
							#root.funcion (id.text)  la id del textimput
							on_press: root.guardar_current(i_maxima.text)
							
					BoxBlue:
					BoxBlue:
							
							




					
					
# COLORES DE LA CAJAS
<BoxGreen>:

    canvas:
        Color:
            rgb: 0,0,0
        Rectangle:
            size: self.size
            pos: self.pos
        

<BoxBlue>:
    canvas:
        Color:
            rgb: 0,0,1,66
        Rectangle:
            size: self.size
			pos: self.pos




<BoxRed>:

    canvas:
        Color:
			#color negro 0,0,0
            rgb: 0,0,0
        Rectangle:
            size: self.size
			pos: self.pos

